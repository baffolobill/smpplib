#summary Example code

= Introduction =

SMPPLIB for Python.


= Example usage =

import smpplib

def recv_handler(self, **args):
    print 'Message received:', args

if __name__ == '__main__':
    client = smpplib.client.Client("10.10.15.38", 5100)
    client.connect()
    client.bind_transmitter(system_id="SYSPLAN", password='passw', system_type='TEST')
    msg = "This is a test message"
    length = len(msg)
    splitat = 160
    parts = length/splitat +1
    if length > splitat:
        for k in range(parts):
            msgpart =  msg[k*splitat:k*splitat+splitat]
            client.send_message(source_addr_ton=0,
                                source_addr_npi = 5,
                                source_addr='Me',
                                dest_addr_ton=smpplib.command.SMPP_TON_UNK,
                                dest_addr_npi = smpplib.command.SMPP_NPI_ISDN,
                                destination_addr='232423432',
                                sar_msg_ref_num = 1,
                                sar_total_segments = parts,
                                sar_segment_seqnum = k+1,
                                message_payload=msgpart)
    else:
        client.send_message(source_addr_ton=0,
                                source_addr_npi = 5,
                                source_addr='Me',
                                dest_addr_ton=smpplib.command.SMPP_TON_UNK,
                                dest_addr_npi = smpplib.command.SMPP_NPI_ISDN,
                                destination_addr='232423432',
                                #protocol_id=smpplib.command.SMPP_PID_RIP,
                                short_message=msg)
    print "Sent.."
    
    client.unbind()
    
    client.disconnect()